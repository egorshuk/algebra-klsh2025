\subsection{Подсчёт орбит}
Подсчёт числа элементов в факторе $X/G$ (числа орбит) конечного множества $X$ под действием конечной группы $G$ наталкивается на очевидную трудность: посколько длины орбит бывают разными, количество орбит ,,разных типов`` придётся считать по отдельности, по ходу дела уточняя, что такое ,,тип орбиты``. С этим нам поможет следующее утверждение. 
\begin{theorem}[Формула Пойа-Бернсайда]\label{th:burnside}
    Пусть конечная группа $G$ действует на конечном множестве $X$. Для каждого $g \in G$ обозначим, через $X^g = \{x \in X \mid gx = x\} = \{x \in X \mid g \in \Stab(x)\}$ множество неподвижных точек преобразования $g$. Тогда верная следующая формула \[
        |X/G| = \frac{1}{|G|}\cdot \sum_{g \in G} |X^g|.
    \]
\end{theorem}
\begin{proof}
    Обозначим через $F \subset G \times X$ таких пар, что $gx = x$. Такое множество можно описать двумя способами: 
    \[
        F = \bigsqcup_{g\in G} X^g = \bigsqcup_{x \in X} \Stab(x).
    \]
    Первое получается рассмотрением проекции $F \twoheadrightarrow G, (g, x) \mapsto g$: слой над точкой $g$ и есть $^g$. Второе получается проекцией $F \twoheadrightarrow X, (g, x)\mapsto x$: слой над точкой $x$ суть $\Stab(x)$. Согласно первому описанию $|F| = \sum_{g \in G} |X^g|$, а по второму $|F| = \sum_{x \in X} |\Stab(x)| = |G| \cdot |X/G|.$
\end{proof}

\begin{example}[Ожерелья]
    Задача ,,ожерелья`` является одной из классических задач теории групп, действия группы на множестве. На её примере рассмотрим применение формулы \emph{Пойа-Бернсайда}. Эта проблема формулируется обычно как-то так: \emph{<<У~одного очень хитрого мужчины, мистера А.~Л.~Г., есть неограниченный запас бусинок из $n$ цветов. Он хочет подарить как можно большему числу дам подарки-ожерелья из 6 бусин. Дамы заподозрят обман, если поймают мужчину на одинаковых ожерельях. Скольким дамам сможет сделать подарок мистер А.~Л.~Г.?>>}

    Ответом на данный вопрос, конечно же, является количество орбит группы диэдра $D_6$ на множестве всех раскрасок вершин правильно шестиугольника в $n$ цветов. А вы как думали!?

    Группа диэдра $D_6$ состоит из $12$ элементов: \begin{bullets}
        \item тождественного преобразования $e$; 
        \item двух поворотов $r^{\pm 1}$ на $\pm 60^\circ$;
        \item двух поворотов $r^{\pm 2}$ на $\pm 120^\circ$;
        \item центральной симметрии $r^3$;
        \item трёх отражений $s_{14}, s_{25}, s_{36}$ относительно больших диагоналей;
        \item и трёх отражений $\bar{s_{14}}, \bar{s_{25}}, \bar{s_{36}}$ относительно серединных перпендикуляров к сторонам.
    \end{bullets}
    Единица оставляет на месте все $n^6$ раскрасок. Раскраски, симметричные относительно других преобразований, показанных на  рисунке.
    Взяв на этих рисунках все допустимые сочетания цветов, получаем, соотвественно, $n, n^2, n^3, n^4$ и $n^3$ раскрасок. Тогда по \cref{th:burnside} число 6-бусинок равно \[\frac{n^6 + 3n^4 +4n^3+2n^2+2n}{12}.\]

\end{example}
    \begin{figure}[ht]
        \centering
        \begin{asy}
            size(4.5cm);
            currentpen=fontsize(10);
            circle omega = circle(origin(), 2); draw(omega);
            point A = angpoint(omega, 30);
            point B = angpoint(omega, 90);
            point C = angpoint(omega, 150);
            point D = angpoint(omega, 210);
            point E = angpoint(omega, 270);
            point F = angpoint(omega, 330);

            draw(A--D, blue);
            draw(B--E, blue);
            draw(C--F, blue);

            dot(A, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(B, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(C, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(D, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(E, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(F, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));


            label("1", B, dir(90)*1.5);
            label("2", C, dir(150)*1.5);
            label("3", D, dir(210)*1.5);
            label("4", E, dir(270)*1.5);
            label("5", F, dir(330)*1.5);
            label("6", A, dir(30)*1.5);

            draw(arc(circle(origin(), 0.9), 30, 90), red, Arrow);

            label("$r$-инвариантные бусы", (0, -3));
        \end{asy}
        \qquad
        \begin{asy}
            size(4.5cm);
            currentpen=fontsize(10);
            point O = (0, 0);
            circle omega = circle(O, 2); draw(omega);
            point A = angpoint(omega, 30);
            point B = angpoint(omega, 90);
            point C = angpoint(omega, 150);
            point D = angpoint(omega, 210);
            point E = angpoint(omega, 270);
            point F = angpoint(omega, 330);

            draw(A--O, red);
            draw(B--O, blue);
            draw(C--O, red);
            draw(D--O, blue);
            draw(E--O, red);
            draw(F--O, blue);

            dot(A, invisible+1,  filltype=FillDraw(fillpen=red+white, drawpen=red));
            dot(B, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(C, invisible+1,  filltype=FillDraw(fillpen=red+white, drawpen=red));
            dot(D, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(E, invisible+1,  filltype=FillDraw(fillpen=red+white, drawpen=red));
            dot(F, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));


            label("1", B, dir(90)*1.5);
            label("2", C, dir(150)*1.5);
            label("3", D, dir(210)*1.5);
            label("4", E, dir(270)*1.5);
            label("5", F, dir(330)*1.5);
            label("6", A, dir(30)*1.5);

            draw(arc(circle(origin(), 0.9), -30, 90), red, Arrow);

            label("$r^2$-инвариантные бусы", (0, -3));
        \end{asy}
        \qquad
        \begin{asy}
            size(4.5cm);
            currentpen=fontsize(10);
            point O = (0, 0);
            circle omega = circle(O, 2); draw(omega);
            point A = angpoint(omega, 30);
            point B = angpoint(omega, 90);
            point C = angpoint(omega, 150);
            point D = angpoint(omega, 210);
            point E = angpoint(omega, 270);
            point F = angpoint(omega, 330);

            draw(O--A, red, Arrow);
            draw(O--B, blue, Arrow);
            draw(O--C, deepgreen, Arrow);
            draw(O--D, red, Arrow);
            draw(O--E, blue, Arrow);
            draw(O--F, deepgreen, Arrow);

            dot(A, invisible+1,  filltype=FillDraw(fillpen=red+white, drawpen=red));
            dot(B, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(C, invisible+1,  filltype=FillDraw(fillpen=deepgreen+white, drawpen=deepgreen));
            dot(D, invisible+1,  filltype=FillDraw(fillpen=red+white, drawpen=red));
            dot(E, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(F, invisible+1,  filltype=FillDraw(fillpen=deepgreen+white, drawpen=deepgreen));


            label("1", B, dir(90)*1.5);
            label("2", C, dir(150)*1.5);
            label("3", D, dir(210)*1.5);
            label("4", E, dir(270)*1.5);
            label("5", F, dir(330)*1.5);
            label("6", A, dir(30)*1.5);

            label("$r^3$-инвариантные бусы", (0, -3));
        \end{asy}

        \begin{asy}
            size(4.5cm);
            currentpen=fontsize(10);
            point O = (0, 0);
            circle omega = circle(O, 2); draw(omega);
            point A = angpoint(omega, 30);
            point B = angpoint(omega, 90);
            point C = angpoint(omega, 150);
            point D = angpoint(omega, 210);
            point E = angpoint(omega, 270);
            point F = angpoint(omega, 330);

            draw(C--F, deepgreen+dashed);
            draw(0.5*B + 0.5*D -- B, red, Arrow);
            draw(0.5*B + 0.5*D -- D, red, Arrow);
            draw(0.5*A + 0.5*E -- A, blue, Arrow);
            draw(0.5*A + 0.5*E -- E, blue, Arrow);

            dot(A, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(B, invisible+1,  filltype=FillDraw(fillpen=red+white, drawpen=red));
            dot(C, invisible+1,  filltype=FillDraw(fillpen=deepgreen+white, drawpen=deepgreen));
            dot(D, invisible+1,  filltype=FillDraw(fillpen=red+white, drawpen=red));
            dot(E, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(F, invisible+1,  filltype=FillDraw(fillpen=deepgreen+white, drawpen=deepgreen));


            label("1", B, dir(90)*1.5);
            label("2", C, dir(150)*1.5);
            label("3", D, dir(210)*1.5);
            label("4", E, dir(270)*1.5);
            label("5", F, dir(330)*1.5);
            label("6", A, dir(30)*1.5);

            label("$s_{25}$-инвариантные бусы", (0, -3));
        \end{asy}
        \qquad
        \begin{asy}
            size(4.5cm);
            currentpen=fontsize(10);
            point O = (0, 0);
            circle omega = circle(O, 2); draw(omega);
            point A = angpoint(omega, 30);
            point B = angpoint(omega, 90);
            point C = angpoint(omega, 150);
            point D = angpoint(omega, 210);
            point E = angpoint(omega, 270);
            point F = angpoint(omega, 330);

            point A1 = angpoint(omega, 120);
            point D1 = angpoint(omega, 300);

            draw(A1--D1, orange+dashed);
            draw(0.5*B + 0.5*C -- B, red, Arrow);
            draw(0.5*B + 0.5*C -- C, red, Arrow);
            draw(0.5*E + 0.5*F -- E, blue, Arrow);
            draw(0.5*E + 0.5*F -- F, blue, Arrow);
            draw(0.5*A + 0.5*D -- A, deepgreen, Arrow);
            draw(0.5*A + 0.5*D -- D, deepgreen, Arrow);

            dot(A, invisible+1,  filltype=FillDraw(fillpen=deepgreen+white, drawpen=deepgreen));
            dot(B, invisible+1,  filltype=FillDraw(fillpen=red+white, drawpen=red));
            dot(C, invisible+1,  filltype=FillDraw(fillpen=red+white, drawpen=red));
            dot(D, invisible+1,  filltype=FillDraw(fillpen=deepgreen+white, drawpen=deepgreen));
            dot(E, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));
            dot(F, invisible+1,  filltype=FillDraw(fillpen=blue+white, drawpen=blue));


            label("1", B, dir(90)*1.5);
            label("2", C, dir(150)*1.5);
            label("3", D, dir(210)*1.5);
            label("4", E, dir(270)*1.5);
            label("5", F, dir(330)*1.5);
            label("6", A, dir(30)*1.5);

            label("$\bar{s_{36}}$-инвариантные бусы", (0, -3));
        \end{asy}

        \caption{Симметричные ожерелья из 6 бусин.}
    \end{figure}

